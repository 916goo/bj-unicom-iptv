(function(t){function n(n){for(var a,c,u=n[0],l=n[1],i=n[2],d=0,p=[];d<u.length;d++)c=u[d],o[c]&&p.push(o[c][0]),o[c]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);s&&s(n);while(p.length)p.shift()();return r.push.apply(r,i||[]),e()}function e(){for(var t,n=0;n<r.length;n++){for(var e=r[n],a=!0,u=1;u<e.length;u++){var l=e[u];0!==o[l]&&(a=!1)}a&&(r.splice(n--,1),t=c(c.s=e[0]))}return t}var a={},o={app:0},r=[];function c(n){if(a[n])return a[n].exports;var e=a[n]={i:n,l:!1,exports:{}};return t[n].call(e.exports,e,e.exports,c),e.l=!0,e.exports}c.m=t,c.c=a,c.d=function(t,n,e){c.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:e})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,n){if(1&n&&(t=c(t)),8&n)return t;if(4&n&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(c.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var a in t)c.d(e,a,function(n){return t[n]}.bind(null,a));return e},c.n=function(t){var n=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(n,"a",n),n},c.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},c.p="";var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=n,u=u.slice();for(var i=0;i<u.length;i++)n(u[i]);var s=l;r.push([0,"chunk-vendors"]),e()})({0:function(t,n,e){t.exports=e("56d7")},"2b33":function(t,n,e){},"3c40":function(t,n,e){"use strict";var a=e("2b33"),o=e.n(a);o.a},"56d7":function(t,n,e){"use strict";e.r(n);e("cadf"),e("551c"),e("097d");var a=e("2b0e"),o=e("117e"),r=(e("dcad"),function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{attrs:{id:"app"}},[e("div",{staticClass:"form"},[e("label",[t._v("\n      udpxy address:\n      "),e("i-input",{staticClass:"input-udpxy",attrs:{disabled:t.loading,placeholder:"Your udpxy address, e.g. http://192.168.1.4:8012"},model:{value:t.udpxy,callback:function(n){t.udpxy=n},expression:"udpxy"}})],1),e("Button",{attrs:{disabled:t.loading,"html-type":"button"},on:{click:t.download}},[t._v("\n      Download playlist\n    ")]),e("Button",{attrs:{disabled:t.loading,"html-type":"button"},on:{click:t.custom}},[t._v("\n      Custom channels HTML\n    ")]),e("ModalCustom",{ref:"modalCustom",on:{submit:function(n){t.channelsHTML=arguments[0]}}})],1),e("Table",{attrs:{loading:t.loading,columns:t.columns,data:t.channelsFormatted}})],1)}),c=[],u=(e("a481"),e("96cf"),e("3040")),l=(e("f751"),e("55dd"),e("bc3a")),i=e.n(l),s=e("2d66"),d=e("01f8"),p=e("cf8e"),f=function(t,n){var e=new Blob([n]),a=document.createElement("a");a.href=URL.createObjectURL(e),a.download=t,a.style.display="none",document.body.appendChild(a),a.click(),document.body.removeChild(a)},h=f,m=(e("4917"),function(t){var n=/^http:\/\/[^/:]+(?::\d+)?/,e=t.match(n);return e?e[0]:""}),v=m,b=(e("7f7f"),function(t,n){return'#EXTM3U name="'.concat(t,'"\n').concat(n.map(function(t){var n=t.name,e=t.url;return"#EXTINF:-1,".concat(n,"\n").concat(e)}).join("\n"))}),y=b,x=function(t){for(var n=/(\w+)="([^"]+)"/g,e={};;){var a=n.exec(t);if(!a)break;e[a[1]]=a[2]}return e},g=function(t){for(var n=[],e=/CU_CTC_Auther\('Channel',([^)]+)\)/g;;){var a=e.exec(t);if(!a)break;var o=x(a[1]);n.push(o)}return n},w=g,C="http://192.168.1.4:8012",k="bj-unicom-iptv",_=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("Modal",{attrs:{title:"Common Modal dialog box title"},on:{"on-ok":t.ok,"on-cancel":t.cancel},model:{value:t.modalShow,callback:function(n){t.modalShow=n},expression:"modalShow"}},[e("i-input",{staticClass:"modal-custom-textarea",attrs:{type:"textarea"},model:{value:t.value,callback:function(n){t.value=n},expression:"value"}})],1)},M=[],O=e("6be2"),j={components:{Modal:O["a"],"i-input":s["a"]},data:function(){return{value:"",modalShow:!1}},methods:{ok:function(){this.$emit("submit",this.value)},cancel:function(){},show:function(t){this.value=t,this.modalShow=!0}}},S=j,T=(e("f92b"),e("2877")),L=Object(T["a"])(S,_,M,!1,null,null,null);L.options.__file="modal-custom.vue";var P=L.exports,U={name:"App",components:{"i-input":s["a"],ModalCustom:P,Button:d["a"],Table:p["a"]},data:function(){this.$createElement;return{loading:!0,udpxy:localStorage.udpxy||"",columns:[{title:"channel name",key:"ChannelName"},{title:"channel url",key:"ChannelURL"},{title:"udpxy url",key:"udpxy"},{title:"Play in VLC (iOS)",key:"udpxy",width:140,render:function(t,n){var e=n.row.udpxy,a="vlc-x-callback://x-callback-url/stream?url=".concat(encodeURIComponent(e));return t("a",{class:"icon-vlc",attrs:{href:a,title:"Play in VLC (iOS)"}})}}],channelsHTML:""}},computed:{channelsFormatted:function(){var t=this,n=w(this.channelsHTML).sort(function(t,n){return parseInt(t.UserChannelID,10)-parseInt(n.UserChannelID,10)});return n.map(function(n){return Object.assign(n,{udpxy:t.formatWithProxy(n.ChannelURL)})})}},watch:{udpxy:function(t){localStorage.udpxy=t}},mounted:function(){var t=Object(u["a"])(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i.a.get("iptv.txt");case 3:n=t.sent,this.channelsHTML=n.data,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),this.$Message.error(t.t0.message);case 10:return t.prev=10,this.loading=!1,t.finish(10);case 13:case"end":return t.stop()}},t,this,[[0,7,10,13]])}));return function(){return t.apply(this,arguments)}}(),methods:{formatWithProxy:function(t){var n=v(this.udpxy)||C,e=t.replace(/^\w+:\/\//,"/rtp/");return"".concat(n).concat(e)},download:function(){var t=y(k,this.channelsFormatted.map(function(t){var n=t.ChannelName,e=t.udpxy;return{name:n,url:e}}));h("".concat(k,".m3u"),t)},custom:function(){this.$refs.modalCustom.show(this.channelsHTML)}}},R=U,$=(e("3c40"),e("b0a0"),Object(T["a"])(R,r,c,!1,null,"377155c6",null));$.options.__file="App.vue";var E=$.exports;a["a"].prototype.$Message=o["a"],a["a"].config.productionTip=!1,new a["a"]({el:"#app",render:function(t){return t(E)}})},"6c25":function(t,n,e){},b0a0:function(t,n,e){"use strict";var a=e("e03b"),o=e.n(a);o.a},e03b:function(t,n,e){},f92b:function(t,n,e){"use strict";var a=e("6c25"),o=e.n(a);o.a}});
//# sourceMappingURL=app.6a70a2a3.js.map